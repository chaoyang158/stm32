ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"main.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.uart3_send,"ax",%progbits
  18              		.align	1
  19              		.global	uart3_send
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	uart3_send:
  25              	.LVL0:
  26              	.LFB65:
  27              		.file 1 "Core/Src/main.c"
   1:Core/Src/main.c **** /* USER CODE BEGIN Header */
   2:Core/Src/main.c **** /**
   3:Core/Src/main.c ****  ******************************************************************************
   4:Core/Src/main.c ****  * @file           : main.c
   5:Core/Src/main.c ****  * @brief          : Main program body
   6:Core/Src/main.c ****  ******************************************************************************
   7:Core/Src/main.c ****  * @attention
   8:Core/Src/main.c ****  *
   9:Core/Src/main.c ****  * Copyright (c) 2025 STMicroelectronics.
  10:Core/Src/main.c ****  * All rights reserved.
  11:Core/Src/main.c ****  *
  12:Core/Src/main.c ****  * This software is licensed under terms that can be found in the LICENSE file
  13:Core/Src/main.c ****  * in the root directory of this software component.
  14:Core/Src/main.c ****  * If no LICENSE file comes with this software, it is provided AS-IS.
  15:Core/Src/main.c ****  *
  16:Core/Src/main.c ****  ******************************************************************************
  17:Core/Src/main.c ****  */
  18:Core/Src/main.c **** /* USER CODE END Header */
  19:Core/Src/main.c **** /* Includes ------------------------------------------------------------------*/
  20:Core/Src/main.c **** #include "main.h"
  21:Core/Src/main.c **** #include "i2c.h"
  22:Core/Src/main.c **** #include "usart.h"
  23:Core/Src/main.c **** #include "gpio.h"
  24:Core/Src/main.c **** 
  25:Core/Src/main.c **** /* Private includes ----------------------------------------------------------*/
  26:Core/Src/main.c **** /* USER CODE BEGIN Includes */
  27:Core/Src/main.c **** /* USER CODE END Includes */
  28:Core/Src/main.c **** 
  29:Core/Src/main.c **** /* Private typedef -----------------------------------------------------------*/
  30:Core/Src/main.c **** /* USER CODE BEGIN PTD */
  31:Core/Src/main.c **** volatile uint16_t command_index = 0;
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 2


  32:Core/Src/main.c **** /* USER CODE END PTD */
  33:Core/Src/main.c **** 
  34:Core/Src/main.c **** /* Private define ------------------------------------------------------------*/
  35:Core/Src/main.c **** /* USER CODE BEGIN PD */
  36:Core/Src/main.c **** /* USER CODE END PD */
  37:Core/Src/main.c **** 
  38:Core/Src/main.c **** /* Private macro -------------------------------------------------------------*/
  39:Core/Src/main.c **** /* USER CODE BEGIN PM */
  40:Core/Src/main.c **** 
  41:Core/Src/main.c **** /* USER CODE END PM */
  42:Core/Src/main.c **** 
  43:Core/Src/main.c **** /* Private variables ---------------------------------------------------------*/
  44:Core/Src/main.c **** 
  45:Core/Src/main.c **** /* USER CODE BEGIN PV */
  46:Core/Src/main.c **** 
  47:Core/Src/main.c **** /* USER CODE END PV */
  48:Core/Src/main.c **** 
  49:Core/Src/main.c **** /* Private function prototypes -----------------------------------------------*/
  50:Core/Src/main.c **** void SystemClock_Config(void);
  51:Core/Src/main.c **** /* USER CODE BEGIN PFP */
  52:Core/Src/main.c **** 
  53:Core/Src/main.c **** /* USER CODE END PFP */
  54:Core/Src/main.c **** 
  55:Core/Src/main.c **** /* Private user code ---------------------------------------------------------*/
  56:Core/Src/main.c **** /* USER CODE BEGIN 0 */
  57:Core/Src/main.c **** void uart3_send(const char *data)
  58:Core/Src/main.c **** {
  28              		.loc 1 58 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 58 1 is_stmt 0 view .LVU1
  33 0000 10B5     		push	{r4, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 4, -8
  37              		.cfi_offset 14, -4
  38 0002 0446     		mov	r4, r0
  59:Core/Src/main.c ****   HAL_UART_Transmit(&huart3, (uint8_t *)data, strlen(data), HAL_MAX_DELAY);
  39              		.loc 1 59 3 is_stmt 1 view .LVU2
  40              		.loc 1 59 47 is_stmt 0 view .LVU3
  41 0004 FFF7FEFF 		bl	strlen
  42              	.LVL1:
  43              		.loc 1 59 3 view .LVU4
  44 0008 4FF0FF33 		mov	r3, #-1
  45 000c 82B2     		uxth	r2, r0
  46 000e 2146     		mov	r1, r4
  47 0010 0148     		ldr	r0, .L3
  48 0012 FFF7FEFF 		bl	HAL_UART_Transmit
  49              	.LVL2:
  60:Core/Src/main.c **** }
  50              		.loc 1 60 1 view .LVU5
  51 0016 10BD     		pop	{r4, pc}
  52              	.LVL3:
  53              	.L4:
  54              		.loc 1 60 1 view .LVU6
  55              		.align	2
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 3


  56              	.L3:
  57 0018 00000000 		.word	huart3
  58              		.cfi_endproc
  59              	.LFE65:
  61              		.section	.text.handle_uart3_response,"ax",%progbits
  62              		.align	1
  63              		.global	handle_uart3_response
  64              		.syntax unified
  65              		.thumb
  66              		.thumb_func
  68              	handle_uart3_response:
  69              	.LFB66:
  61:Core/Src/main.c **** 
  62:Core/Src/main.c **** void handle_uart3_response()
  63:Core/Src/main.c **** {
  70              		.loc 1 63 1 is_stmt 1 view -0
  71              		.cfi_startproc
  72              		@ args = 0, pretend = 0, frame = 8
  73              		@ frame_needed = 0, uses_anonymous_args = 0
  74 0000 00B5     		push	{lr}
  75              	.LCFI1:
  76              		.cfi_def_cfa_offset 4
  77              		.cfi_offset 14, -4
  78 0002 83B0     		sub	sp, sp, #12
  79              	.LCFI2:
  80              		.cfi_def_cfa_offset 16
  64:Core/Src/main.c ****   static uint16_t last_head = 0;
  81              		.loc 1 64 3 view .LVU8
  65:Core/Src/main.c **** 
  66:Core/Src/main.c ****   while (last_head != uart3_rx_head)
  82              		.loc 1 66 3 view .LVU9
  83              		.loc 1 66 9 is_stmt 0 view .LVU10
  84 0004 06E0     		b	.L6
  85              	.L7:
  86              	.LBB4:
  67:Core/Src/main.c ****   {
  68:Core/Src/main.c ****     char ch = uart3_rx_buffer[last_head++];
  69:Core/Src/main.c ****     if (last_head >= UART3_RX_BUFFER_SIZE)
  70:Core/Src/main.c ****       last_head = 0;
  71:Core/Src/main.c **** 
  72:Core/Src/main.c ****     HAL_UART_Transmit(&huart1, (uint8_t *)&ch, 1, 10);
  87              		.loc 1 72 5 is_stmt 1 view .LVU11
  88 0006 0A23     		movs	r3, #10
  89 0008 0122     		movs	r2, #1
  90 000a 0DF10701 		add	r1, sp, #7
  91 000e 0D48     		ldr	r0, .L11
  92 0010 FFF7FEFF 		bl	HAL_UART_Transmit
  93              	.LVL4:
  94              	.L6:
  95              	.LBE4:
  66:Core/Src/main.c ****   {
  96              		.loc 1 66 9 view .LVU12
  66:Core/Src/main.c ****   {
  97              		.loc 1 66 20 is_stmt 0 view .LVU13
  98 0014 0C4B     		ldr	r3, .L11+4
  99 0016 1A88     		ldrh	r2, [r3]
 100 0018 0C4B     		ldr	r3, .L11+8
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 4


 101 001a 1B88     		ldrh	r3, [r3]
 102 001c 9BB2     		uxth	r3, r3
  66:Core/Src/main.c ****   {
 103              		.loc 1 66 9 view .LVU14
 104 001e 9A42     		cmp	r2, r3
 105 0020 0DD0     		beq	.L10
 106              	.LBB5:
  68:Core/Src/main.c ****     if (last_head >= UART3_RX_BUFFER_SIZE)
 107              		.loc 1 68 5 is_stmt 1 view .LVU15
  68:Core/Src/main.c ****     if (last_head >= UART3_RX_BUFFER_SIZE)
 108              		.loc 1 68 40 is_stmt 0 view .LVU16
 109 0022 531C     		adds	r3, r2, #1
 110 0024 9BB2     		uxth	r3, r3
 111 0026 0849     		ldr	r1, .L11+4
 112 0028 0B80     		strh	r3, [r1]	@ movhi
  68:Core/Src/main.c ****     if (last_head >= UART3_RX_BUFFER_SIZE)
 113              		.loc 1 68 30 view .LVU17
 114 002a 0949     		ldr	r1, .L11+12
 115 002c 8A5C     		ldrb	r2, [r1, r2]	@ zero_extendqisi2
  68:Core/Src/main.c ****     if (last_head >= UART3_RX_BUFFER_SIZE)
 116              		.loc 1 68 10 view .LVU18
 117 002e 8DF80720 		strb	r2, [sp, #7]
  69:Core/Src/main.c ****       last_head = 0;
 118              		.loc 1 69 5 is_stmt 1 view .LVU19
  69:Core/Src/main.c ****       last_head = 0;
 119              		.loc 1 69 8 is_stmt 0 view .LVU20
 120 0032 FF2B     		cmp	r3, #255
 121 0034 E7D9     		bls	.L7
  70:Core/Src/main.c **** 
 122              		.loc 1 70 7 is_stmt 1 view .LVU21
  70:Core/Src/main.c **** 
 123              		.loc 1 70 17 is_stmt 0 view .LVU22
 124 0036 044B     		ldr	r3, .L11+4
 125 0038 0022     		movs	r2, #0
 126 003a 1A80     		strh	r2, [r3]	@ movhi
 127 003c E3E7     		b	.L7
 128              	.L10:
 129              	.LBE5:
  73:Core/Src/main.c ****   }
  74:Core/Src/main.c **** }
 130              		.loc 1 74 1 view .LVU23
 131 003e 03B0     		add	sp, sp, #12
 132              	.LCFI3:
 133              		.cfi_def_cfa_offset 4
 134              		@ sp needed
 135 0040 5DF804FB 		ldr	pc, [sp], #4
 136              	.L12:
 137              		.align	2
 138              	.L11:
 139 0044 00000000 		.word	huart1
 140 0048 00000000 		.word	.LANCHOR0
 141 004c 00000000 		.word	uart3_rx_head
 142 0050 00000000 		.word	uart3_rx_buffer
 143              		.cfi_endproc
 144              	.LFE66:
 146              		.section	.rodata.send_AT_command.str1.4,"aMS",%progbits,1
 147              		.align	2
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 5


 148              	.LC0:
 149 0000 0D0A00   		.ascii	"\015\012\000"
 150              		.section	.text.send_AT_command,"ax",%progbits
 151              		.align	1
 152              		.global	send_AT_command
 153              		.syntax unified
 154              		.thumb
 155              		.thumb_func
 157              	send_AT_command:
 158              	.LVL5:
 159              	.LFB68:
  75:Core/Src/main.c **** 
  76:Core/Src/main.c **** int send_tcp_data(const char *data)
  77:Core/Src/main.c **** {
  78:Core/Src/main.c ****   char cmd[128];
  79:Core/Src/main.c **** 
  80:Core/Src/main.c ****   sprintf(cmd, "AT+CIPSEND=%d", strlen(data));
  81:Core/Src/main.c **** 
  82:Core/Src/main.c ****   // 先发送长度指令
  83:Core/Src/main.c ****   send_AT_command(cmd);
  84:Core/Src/main.c **** 
  85:Core/Src/main.c ****   // 等待 '>' 提示符
  86:Core/Src/main.c ****   if (!wait_for_response(">", 1000))
  87:Core/Src/main.c ****     return 0;
  88:Core/Src/main.c **** 
  89:Core/Src/main.c ****   HAL_Delay(100);
  90:Core/Src/main.c ****   // 发送实际数据
  91:Core/Src/main.c ****   HAL_UART_Transmit(&huart3, (uint8_t *)data, strlen(data), HAL_MAX_DELAY);
  92:Core/Src/main.c **** 
  93:Core/Src/main.c ****   // 等待发送完成
  94:Core/Src/main.c ****   if (!wait_for_response("SEND OK", 2000))
  95:Core/Src/main.c ****     return 0;
  96:Core/Src/main.c **** 
  97:Core/Src/main.c ****   return 1;
  98:Core/Src/main.c **** }
  99:Core/Src/main.c **** 
 100:Core/Src/main.c **** void send_AT_command(const char *command)
 101:Core/Src/main.c **** {
 160              		.loc 1 101 1 is_stmt 1 view -0
 161              		.cfi_startproc
 162              		@ args = 0, pretend = 0, frame = 0
 163              		@ frame_needed = 0, uses_anonymous_args = 0
 164              		.loc 1 101 1 is_stmt 0 view .LVU25
 165 0000 38B5     		push	{r3, r4, r5, lr}
 166              	.LCFI4:
 167              		.cfi_def_cfa_offset 16
 168              		.cfi_offset 3, -16
 169              		.cfi_offset 4, -12
 170              		.cfi_offset 5, -8
 171              		.cfi_offset 14, -4
 172 0002 0446     		mov	r4, r0
 102:Core/Src/main.c ****   HAL_UART_Transmit(&huart3, (uint8_t *)command, strlen(command), 1000);
 173              		.loc 1 102 3 is_stmt 1 view .LVU26
 174              		.loc 1 102 50 is_stmt 0 view .LVU27
 175 0004 FFF7FEFF 		bl	strlen
 176              	.LVL6:
 177              		.loc 1 102 3 view .LVU28
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 6


 178 0008 074D     		ldr	r5, .L15
 179 000a 4FF47A73 		mov	r3, #1000
 180 000e 82B2     		uxth	r2, r0
 181 0010 2146     		mov	r1, r4
 182 0012 2846     		mov	r0, r5
 183 0014 FFF7FEFF 		bl	HAL_UART_Transmit
 184              	.LVL7:
 103:Core/Src/main.c ****   HAL_UART_Transmit(&huart3, (uint8_t *)"\r\n", 2, 1000);
 185              		.loc 1 103 3 is_stmt 1 view .LVU29
 186 0018 4FF47A73 		mov	r3, #1000
 187 001c 0222     		movs	r2, #2
 188 001e 0349     		ldr	r1, .L15+4
 189 0020 2846     		mov	r0, r5
 190 0022 FFF7FEFF 		bl	HAL_UART_Transmit
 191              	.LVL8:
 104:Core/Src/main.c **** }
 192              		.loc 1 104 1 is_stmt 0 view .LVU30
 193 0026 38BD     		pop	{r3, r4, r5, pc}
 194              	.LVL9:
 195              	.L16:
 196              		.loc 1 104 1 view .LVU31
 197              		.align	2
 198              	.L15:
 199 0028 00000000 		.word	huart3
 200 002c 00000000 		.word	.LC0
 201              		.cfi_endproc
 202              	.LFE68:
 204              		.section	.text.wait_for_response,"ax",%progbits
 205              		.align	1
 206              		.global	wait_for_response
 207              		.syntax unified
 208              		.thumb
 209              		.thumb_func
 211              	wait_for_response:
 212              	.LVL10:
 213              	.LFB69:
 105:Core/Src/main.c **** 
 106:Core/Src/main.c **** int wait_for_response(const char *expected_response, uint32_t timeout)
 107:Core/Src/main.c **** {
 214              		.loc 1 107 1 is_stmt 1 view -0
 215              		.cfi_startproc
 216              		@ args = 0, pretend = 0, frame = 256
 217              		@ frame_needed = 0, uses_anonymous_args = 0
 218              		.loc 1 107 1 is_stmt 0 view .LVU33
 219 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 220              	.LCFI5:
 221              		.cfi_def_cfa_offset 20
 222              		.cfi_offset 4, -20
 223              		.cfi_offset 5, -16
 224              		.cfi_offset 6, -12
 225              		.cfi_offset 7, -8
 226              		.cfi_offset 14, -4
 227 0002 C1B0     		sub	sp, sp, #260
 228              	.LCFI6:
 229              		.cfi_def_cfa_offset 280
 230 0004 0746     		mov	r7, r0
 231 0006 0E46     		mov	r6, r1
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 7


 108:Core/Src/main.c ****   uint32_t tickstart = HAL_GetTick();
 232              		.loc 1 108 3 is_stmt 1 view .LVU34
 233              		.loc 1 108 24 is_stmt 0 view .LVU35
 234 0008 FFF7FEFF 		bl	HAL_GetTick
 235              	.LVL11:
 236              		.loc 1 108 24 view .LVU36
 237 000c 0546     		mov	r5, r0
 238              	.LVL12:
 109:Core/Src/main.c ****   uint16_t check_pos = 0; // 上次缓冲区检查到的位置
 239              		.loc 1 109 3 is_stmt 1 view .LVU37
 110:Core/Src/main.c **** 
 111:Core/Src/main.c ****   while ((HAL_GetTick() - tickstart) < timeout)
 240              		.loc 1 111 3 view .LVU38
 109:Core/Src/main.c ****   uint16_t check_pos = 0; // 上次缓冲区检查到的位置
 241              		.loc 1 109 12 is_stmt 0 view .LVU39
 242 000e 0024     		movs	r4, #0
 243              	.LVL13:
 244              	.L20:
 245              		.loc 1 111 9 is_stmt 1 view .LVU40
 246              		.loc 1 111 11 is_stmt 0 view .LVU41
 247 0010 FFF7FEFF 		bl	HAL_GetTick
 248              	.LVL14:
 249              		.loc 1 111 25 view .LVU42
 250 0014 401B     		subs	r0, r0, r5
 251              		.loc 1 111 9 view .LVU43
 252 0016 B042     		cmp	r0, r6
 253 0018 29D2     		bcs	.L30
 112:Core/Src/main.c ****   {
 113:Core/Src/main.c ****     // 判断缓冲区是否有新数
 114:Core/Src/main.c ****     if (check_pos != uart3_rx_head)
 254              		.loc 1 114 5 is_stmt 1 view .LVU44
 255              		.loc 1 114 19 is_stmt 0 view .LVU45
 256 001a 164B     		ldr	r3, .L32
 257 001c 1B88     		ldrh	r3, [r3]
 258 001e 9BB2     		uxth	r3, r3
 259              		.loc 1 114 8 view .LVU46
 260 0020 A342     		cmp	r3, r4
 261 0022 F5D0     		beq	.L20
 262              	.LBB6:
 115:Core/Src/main.c ****     {
 116:Core/Src/main.c **** 
 117:Core/Src/main.c ****       char temp_buffer[UART3_RX_BUFFER_SIZE];
 118:Core/Src/main.c ****       uint16_t temp_idx = 0;
 263              		.loc 1 118 16 view .LVU47
 264 0024 0022     		movs	r2, #0
 265 0026 01E0     		b	.L19
 266              	.LVL15:
 267              	.L28:
 119:Core/Src/main.c ****       uint16_t i = check_pos;
 120:Core/Src/main.c **** 
 121:Core/Src/main.c ****       while (i != uart3_rx_head && temp_idx < sizeof(temp_buffer) - 1)
 122:Core/Src/main.c ****       {
 123:Core/Src/main.c ****         temp_buffer[temp_idx++] = uart3_rx_buffer[i++];
 124:Core/Src/main.c ****         if (i >= UART3_RX_BUFFER_SIZE)
 125:Core/Src/main.c ****           i = 0; // 环形缓冲处理
 268              		.loc 1 125 13 view .LVU48
 269 0028 0024     		movs	r4, #0
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 8


 270              	.L21:
 271              	.LVL16:
 123:Core/Src/main.c ****         if (i >= UART3_RX_BUFFER_SIZE)
 272              		.loc 1 123 52 view .LVU49
 273 002a 0A46     		mov	r2, r1
 274              	.LVL17:
 275              	.L19:
 121:Core/Src/main.c ****       {
 276              		.loc 1 121 13 is_stmt 1 view .LVU50
 121:Core/Src/main.c ****       {
 277              		.loc 1 121 16 is_stmt 0 view .LVU51
 278 002c 114B     		ldr	r3, .L32
 279 002e 1B88     		ldrh	r3, [r3]
 280 0030 9BB2     		uxth	r3, r3
 121:Core/Src/main.c ****       {
 281              		.loc 1 121 13 view .LVU52
 282 0032 A342     		cmp	r3, r4
 283 0034 0DD0     		beq	.L22
 121:Core/Src/main.c ****       {
 284              		.loc 1 121 33 discriminator 1 view .LVU53
 285 0036 FE2A     		cmp	r2, #254
 286 0038 0BD8     		bhi	.L22
 123:Core/Src/main.c ****         if (i >= UART3_RX_BUFFER_SIZE)
 287              		.loc 1 123 9 is_stmt 1 view .LVU54
 123:Core/Src/main.c ****         if (i >= UART3_RX_BUFFER_SIZE)
 288              		.loc 1 123 52 is_stmt 0 view .LVU55
 289 003a 631C     		adds	r3, r4, #1
 290 003c 9BB2     		uxth	r3, r3
 291              	.LVL18:
 123:Core/Src/main.c ****         if (i >= UART3_RX_BUFFER_SIZE)
 292              		.loc 1 123 29 view .LVU56
 293 003e 511C     		adds	r1, r2, #1
 294 0040 89B2     		uxth	r1, r1
 295              	.LVL19:
 123:Core/Src/main.c ****         if (i >= UART3_RX_BUFFER_SIZE)
 296              		.loc 1 123 50 view .LVU57
 297 0042 0D48     		ldr	r0, .L32+4
 298 0044 005D     		ldrb	r0, [r0, r4]	@ zero_extendqisi2
 123:Core/Src/main.c ****         if (i >= UART3_RX_BUFFER_SIZE)
 299              		.loc 1 123 33 view .LVU58
 300 0046 0DF80200 		strb	r0, [sp, r2]
 124:Core/Src/main.c ****           i = 0; // 环形缓冲处理
 301              		.loc 1 124 9 is_stmt 1 view .LVU59
 124:Core/Src/main.c ****           i = 0; // 环形缓冲处理
 302              		.loc 1 124 12 is_stmt 0 view .LVU60
 303 004a FF2B     		cmp	r3, #255
 304 004c ECD8     		bhi	.L28
 123:Core/Src/main.c ****         if (i >= UART3_RX_BUFFER_SIZE)
 305              		.loc 1 123 52 view .LVU61
 306 004e 1C46     		mov	r4, r3
 307 0050 EBE7     		b	.L21
 308              	.LVL20:
 309              	.L22:
 126:Core/Src/main.c ****       }
 127:Core/Src/main.c ****       temp_buffer[temp_idx] = '\0';
 310              		.loc 1 127 7 is_stmt 1 view .LVU62
 311              		.loc 1 127 29 is_stmt 0 view .LVU63
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 9


 312 0052 0023     		movs	r3, #0
 313 0054 0DF80230 		strb	r3, [sp, r2]
 128:Core/Src/main.c **** 
 129:Core/Src/main.c ****       if (strstr(temp_buffer, expected_response) != NULL)
 314              		.loc 1 129 7 is_stmt 1 view .LVU64
 315              	.LBB7:
 316              		.loc 1 129 11 is_stmt 0 view .LVU65
 317 0058 3946     		mov	r1, r7
 318 005a 6846     		mov	r0, sp
 319 005c FFF7FEFF 		bl	strstr
 320              	.LVL21:
 321              		.loc 1 129 10 view .LVU66
 322 0060 18B9     		cbnz	r0, .L31
 323              	.LBE7:
 130:Core/Src/main.c ****       {
 131:Core/Src/main.c ****         return 1; // 找到预期响应
 132:Core/Src/main.c ****       }
 133:Core/Src/main.c **** 
 134:Core/Src/main.c ****       check_pos = uart3_rx_head; // 更新位置继续等待
 324              		.loc 1 134 7 is_stmt 1 view .LVU67
 325              		.loc 1 134 17 is_stmt 0 view .LVU68
 326 0062 044B     		ldr	r3, .L32
 327 0064 1C88     		ldrh	r4, [r3]
 328              	.LVL22:
 329              		.loc 1 134 17 view .LVU69
 330 0066 A4B2     		uxth	r4, r4
 331              	.LVL23:
 332              		.loc 1 134 17 view .LVU70
 333 0068 D2E7     		b	.L20
 334              	.LVL24:
 335              	.L31:
 336              	.LBB8:
 131:Core/Src/main.c ****       }
 337              		.loc 1 131 9 is_stmt 1 view .LVU71
 131:Core/Src/main.c ****       }
 338              		.loc 1 131 16 is_stmt 0 view .LVU72
 339 006a 0120     		movs	r0, #1
 340 006c 00E0     		b	.L17
 341              	.LVL25:
 342              	.L30:
 131:Core/Src/main.c ****       }
 343              		.loc 1 131 16 view .LVU73
 344              	.LBE8:
 345              	.LBE6:
 135:Core/Src/main.c ****     }
 136:Core/Src/main.c ****   }
 137:Core/Src/main.c **** 
 138:Core/Src/main.c ****   return 0;
 346              		.loc 1 138 10 view .LVU74
 347 006e 0020     		movs	r0, #0
 348              	.LVL26:
 349              	.L17:
 139:Core/Src/main.c **** }
 350              		.loc 1 139 1 view .LVU75
 351 0070 41B0     		add	sp, sp, #260
 352              	.LCFI7:
 353              		.cfi_def_cfa_offset 20
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 10


 354              		@ sp needed
 355 0072 F0BD     		pop	{r4, r5, r6, r7, pc}
 356              	.LVL27:
 357              	.L33:
 358              		.loc 1 139 1 view .LVU76
 359              		.align	2
 360              	.L32:
 361 0074 00000000 		.word	uart3_rx_head
 362 0078 00000000 		.word	uart3_rx_buffer
 363              		.cfi_endproc
 364              	.LFE69:
 366              		.section	.rodata.send_tcp_data.str1.4,"aMS",%progbits,1
 367              		.align	2
 368              	.LC1:
 369 0000 41542B43 		.ascii	"AT+CIPSEND=%d\000"
 369      49505345 
 369      4E443D25 
 369      6400
 370 000e 0000     		.align	2
 371              	.LC2:
 372 0010 3E00     		.ascii	">\000"
 373 0012 0000     		.align	2
 374              	.LC3:
 375 0014 53454E44 		.ascii	"SEND OK\000"
 375      204F4B00 
 376              		.section	.text.send_tcp_data,"ax",%progbits
 377              		.align	1
 378              		.global	send_tcp_data
 379              		.syntax unified
 380              		.thumb
 381              		.thumb_func
 383              	send_tcp_data:
 384              	.LVL28:
 385              	.LFB67:
  77:Core/Src/main.c ****   char cmd[128];
 386              		.loc 1 77 1 is_stmt 1 view -0
 387              		.cfi_startproc
 388              		@ args = 0, pretend = 0, frame = 128
 389              		@ frame_needed = 0, uses_anonymous_args = 0
  77:Core/Src/main.c ****   char cmd[128];
 390              		.loc 1 77 1 is_stmt 0 view .LVU78
 391 0000 10B5     		push	{r4, lr}
 392              	.LCFI8:
 393              		.cfi_def_cfa_offset 8
 394              		.cfi_offset 4, -8
 395              		.cfi_offset 14, -4
 396 0002 A0B0     		sub	sp, sp, #128
 397              	.LCFI9:
 398              		.cfi_def_cfa_offset 136
 399 0004 0446     		mov	r4, r0
  78:Core/Src/main.c **** 
 400              		.loc 1 78 3 is_stmt 1 view .LVU79
  80:Core/Src/main.c **** 
 401              		.loc 1 80 3 view .LVU80
 402 0006 FFF7FEFF 		bl	strlen
 403              	.LVL29:
  80:Core/Src/main.c **** 
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 11


 404              		.loc 1 80 3 is_stmt 0 view .LVU81
 405 000a 0246     		mov	r2, r0
 406 000c 1249     		ldr	r1, .L38
 407 000e 6846     		mov	r0, sp
 408 0010 FFF7FEFF 		bl	sprintf
 409              	.LVL30:
  83:Core/Src/main.c **** 
 410              		.loc 1 83 3 is_stmt 1 view .LVU82
 411 0014 6846     		mov	r0, sp
 412 0016 FFF7FEFF 		bl	send_AT_command
 413              	.LVL31:
  86:Core/Src/main.c ****     return 0;
 414              		.loc 1 86 3 view .LVU83
  86:Core/Src/main.c ****     return 0;
 415              		.loc 1 86 8 is_stmt 0 view .LVU84
 416 001a 4FF47A71 		mov	r1, #1000
 417 001e 0F48     		ldr	r0, .L38+4
 418 0020 FFF7FEFF 		bl	wait_for_response
 419              	.LVL32:
  86:Core/Src/main.c ****     return 0;
 420              		.loc 1 86 6 view .LVU85
 421 0024 08B9     		cbnz	r0, .L37
 422              	.L34:
  98:Core/Src/main.c **** 
 423              		.loc 1 98 1 view .LVU86
 424 0026 20B0     		add	sp, sp, #128
 425              	.LCFI10:
 426              		.cfi_remember_state
 427              		.cfi_def_cfa_offset 8
 428              		@ sp needed
 429 0028 10BD     		pop	{r4, pc}
 430              	.LVL33:
 431              	.L37:
 432              	.LCFI11:
 433              		.cfi_restore_state
  89:Core/Src/main.c ****   // 发送实际数据
 434              		.loc 1 89 3 is_stmt 1 view .LVU87
 435 002a 6420     		movs	r0, #100
 436 002c FFF7FEFF 		bl	HAL_Delay
 437              	.LVL34:
  91:Core/Src/main.c **** 
 438              		.loc 1 91 3 view .LVU88
  91:Core/Src/main.c **** 
 439              		.loc 1 91 47 is_stmt 0 view .LVU89
 440 0030 2046     		mov	r0, r4
 441 0032 FFF7FEFF 		bl	strlen
 442              	.LVL35:
  91:Core/Src/main.c **** 
 443              		.loc 1 91 3 view .LVU90
 444 0036 4FF0FF33 		mov	r3, #-1
 445 003a 82B2     		uxth	r2, r0
 446 003c 2146     		mov	r1, r4
 447 003e 0848     		ldr	r0, .L38+8
 448 0040 FFF7FEFF 		bl	HAL_UART_Transmit
 449              	.LVL36:
  94:Core/Src/main.c ****     return 0;
 450              		.loc 1 94 3 is_stmt 1 view .LVU91
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 12


  94:Core/Src/main.c ****     return 0;
 451              		.loc 1 94 8 is_stmt 0 view .LVU92
 452 0044 4FF4FA61 		mov	r1, #2000
 453 0048 0648     		ldr	r0, .L38+12
 454 004a FFF7FEFF 		bl	wait_for_response
 455              	.LVL37:
  94:Core/Src/main.c ****     return 0;
 456              		.loc 1 94 6 view .LVU93
 457 004e 0028     		cmp	r0, #0
 458 0050 E9D0     		beq	.L34
  97:Core/Src/main.c **** }
 459              		.loc 1 97 10 view .LVU94
 460 0052 0120     		movs	r0, #1
 461 0054 E7E7     		b	.L34
 462              	.L39:
 463 0056 00BF     		.align	2
 464              	.L38:
 465 0058 00000000 		.word	.LC1
 466 005c 10000000 		.word	.LC2
 467 0060 00000000 		.word	huart3
 468 0064 14000000 		.word	.LC3
 469              		.cfi_endproc
 470              	.LFE67:
 472              		.section	.text.handle_uart1_input,"ax",%progbits
 473              		.align	1
 474              		.global	handle_uart1_input
 475              		.syntax unified
 476              		.thumb
 477              		.thumb_func
 479              	handle_uart1_input:
 480              	.LFB70:
 140:Core/Src/main.c **** 
 141:Core/Src/main.c **** void handle_uart1_input()
 142:Core/Src/main.c **** {
 481              		.loc 1 142 1 is_stmt 1 view -0
 482              		.cfi_startproc
 483              		@ args = 0, pretend = 0, frame = 0
 484              		@ frame_needed = 0, uses_anonymous_args = 0
 485 0000 10B5     		push	{r4, lr}
 486              	.LCFI12:
 487              		.cfi_def_cfa_offset 8
 488              		.cfi_offset 4, -8
 489              		.cfi_offset 14, -4
 143:Core/Src/main.c ****   static char input_line[UART1_RX_BUFFER_SIZE];
 490              		.loc 1 143 3 view .LVU96
 144:Core/Src/main.c ****   static int input_pos = 0;
 491              		.loc 1 144 3 view .LVU97
 145:Core/Src/main.c **** 
 146:Core/Src/main.c ****   while (command_index != uart1_rx_head)
 492              		.loc 1 146 3 view .LVU98
 493              		.loc 1 146 9 is_stmt 0 view .LVU99
 494 0002 03E0     		b	.L41
 495              	.LVL38:
 496              	.L43:
 497              	.LBB9:
 147:Core/Src/main.c ****   {
 148:Core/Src/main.c ****     char ch = uart1_rx_buffer[command_index++];
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 13


 149:Core/Src/main.c ****     if (command_index >= UART1_RX_BUFFER_SIZE)
 150:Core/Src/main.c ****       command_index = 0;
 151:Core/Src/main.c **** 
 152:Core/Src/main.c ****     if (ch == '\r' || ch == '\n')
 153:Core/Src/main.c ****     {
 154:Core/Src/main.c ****       if (input_pos > 0)
 498              		.loc 1 154 7 is_stmt 1 view .LVU100
 499              		.loc 1 154 21 is_stmt 0 view .LVU101
 500 0004 184B     		ldr	r3, .L50
 501 0006 1B68     		ldr	r3, [r3]
 502              		.loc 1 154 10 view .LVU102
 503 0008 002B     		cmp	r3, #0
 504 000a 24DC     		bgt	.L48
 505              	.LVL39:
 506              	.L41:
 507              		.loc 1 154 10 view .LVU103
 508              	.LBE9:
 146:Core/Src/main.c ****   {
 509              		.loc 1 146 9 is_stmt 1 view .LVU104
 146:Core/Src/main.c ****   {
 510              		.loc 1 146 24 is_stmt 0 view .LVU105
 511 000c 174B     		ldr	r3, .L50+4
 512 000e 1A88     		ldrh	r2, [r3]
 513 0010 92B2     		uxth	r2, r2
 514 0012 174B     		ldr	r3, .L50+8
 515 0014 1B88     		ldrh	r3, [r3]
 516 0016 9BB2     		uxth	r3, r3
 146:Core/Src/main.c ****   {
 517              		.loc 1 146 9 view .LVU106
 518 0018 9A42     		cmp	r2, r3
 519 001a 24D0     		beq	.L49
 520              	.LBB10:
 148:Core/Src/main.c ****     if (command_index >= UART1_RX_BUFFER_SIZE)
 521              		.loc 1 148 5 is_stmt 1 view .LVU107
 148:Core/Src/main.c ****     if (command_index >= UART1_RX_BUFFER_SIZE)
 522              		.loc 1 148 44 is_stmt 0 view .LVU108
 523 001c 134A     		ldr	r2, .L50+4
 524 001e 1388     		ldrh	r3, [r2]
 525 0020 9BB2     		uxth	r3, r3
 526 0022 591C     		adds	r1, r3, #1
 527 0024 89B2     		uxth	r1, r1
 528 0026 1180     		strh	r1, [r2]	@ movhi
 148:Core/Src/main.c ****     if (command_index >= UART1_RX_BUFFER_SIZE)
 529              		.loc 1 148 10 view .LVU109
 530 0028 1249     		ldr	r1, .L50+12
 531 002a C95C     		ldrb	r1, [r1, r3]	@ zero_extendqisi2
 532              	.LVL40:
 149:Core/Src/main.c ****       command_index = 0;
 533              		.loc 1 149 5 is_stmt 1 view .LVU110
 149:Core/Src/main.c ****       command_index = 0;
 534              		.loc 1 149 23 is_stmt 0 view .LVU111
 535 002c 1388     		ldrh	r3, [r2]
 536 002e 9BB2     		uxth	r3, r3
 149:Core/Src/main.c ****       command_index = 0;
 537              		.loc 1 149 8 view .LVU112
 538 0030 7F2B     		cmp	r3, #127
 539 0032 02D9     		bls	.L42
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 14


 150:Core/Src/main.c **** 
 540              		.loc 1 150 7 is_stmt 1 view .LVU113
 150:Core/Src/main.c **** 
 541              		.loc 1 150 21 is_stmt 0 view .LVU114
 542 0034 1346     		mov	r3, r2
 543 0036 0022     		movs	r2, #0
 544 0038 1A80     		strh	r2, [r3]	@ movhi
 545              	.L42:
 152:Core/Src/main.c ****     {
 546              		.loc 1 152 5 is_stmt 1 view .LVU115
 152:Core/Src/main.c ****     {
 547              		.loc 1 152 8 is_stmt 0 view .LVU116
 548 003a 0D29     		cmp	r1, #13
 549 003c E2D0     		beq	.L43
 152:Core/Src/main.c ****     {
 550              		.loc 1 152 20 discriminator 1 view .LVU117
 551 003e 0A29     		cmp	r1, #10
 552 0040 E0D0     		beq	.L43
 155:Core/Src/main.c ****       {
 156:Core/Src/main.c ****         input_line[input_pos] = '\0';
 157:Core/Src/main.c **** 
 158:Core/Src/main.c ****         // 直接发送输入的内容，不用判断前缀
 159:Core/Src/main.c ****         send_tcp_data(input_line);
 160:Core/Src/main.c ****         input_pos = 0;
 161:Core/Src/main.c ****       }
 162:Core/Src/main.c ****     }
 163:Core/Src/main.c ****     else if (input_pos < sizeof(input_line) - 1)
 553              		.loc 1 163 10 is_stmt 1 view .LVU118
 554              		.loc 1 163 24 is_stmt 0 view .LVU119
 555 0042 094B     		ldr	r3, .L50
 556 0044 1B68     		ldr	r3, [r3]
 557              		.loc 1 163 13 view .LVU120
 558 0046 7E2B     		cmp	r3, #126
 559 0048 E0D8     		bhi	.L41
 164:Core/Src/main.c ****     {
 165:Core/Src/main.c ****       input_line[input_pos++] = ch;
 560              		.loc 1 165 7 is_stmt 1 view .LVU121
 561              		.loc 1 165 27 is_stmt 0 view .LVU122
 562 004a 581C     		adds	r0, r3, #1
 563 004c 064A     		ldr	r2, .L50
 564 004e 1060     		str	r0, [r2]
 565              		.loc 1 165 31 view .LVU123
 566 0050 094A     		ldr	r2, .L50+16
 567 0052 D154     		strb	r1, [r2, r3]
 568 0054 DAE7     		b	.L41
 569              	.L48:
 156:Core/Src/main.c **** 
 570              		.loc 1 156 9 is_stmt 1 view .LVU124
 156:Core/Src/main.c **** 
 571              		.loc 1 156 31 is_stmt 0 view .LVU125
 572 0056 0848     		ldr	r0, .L50+16
 573 0058 0024     		movs	r4, #0
 574 005a C454     		strb	r4, [r0, r3]
 159:Core/Src/main.c ****         input_pos = 0;
 575              		.loc 1 159 9 is_stmt 1 view .LVU126
 576 005c FFF7FEFF 		bl	send_tcp_data
 577              	.LVL41:
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 15


 160:Core/Src/main.c ****       }
 578              		.loc 1 160 9 view .LVU127
 160:Core/Src/main.c ****       }
 579              		.loc 1 160 19 is_stmt 0 view .LVU128
 580 0060 014B     		ldr	r3, .L50
 581 0062 1C60     		str	r4, [r3]
 582 0064 D2E7     		b	.L41
 583              	.L49:
 160:Core/Src/main.c ****       }
 584              		.loc 1 160 19 view .LVU129
 585              	.LBE10:
 166:Core/Src/main.c ****     }
 167:Core/Src/main.c ****   }
 168:Core/Src/main.c **** }
 586              		.loc 1 168 1 view .LVU130
 587 0066 10BD     		pop	{r4, pc}
 588              	.L51:
 589              		.align	2
 590              	.L50:
 591 0068 00000000 		.word	.LANCHOR2
 592 006c 00000000 		.word	.LANCHOR1
 593 0070 00000000 		.word	uart1_rx_head
 594 0074 00000000 		.word	uart1_rx_buffer
 595 0078 00000000 		.word	.LANCHOR3
 596              		.cfi_endproc
 597              	.LFE70:
 599              		.section	.text.Error_Handler,"ax",%progbits
 600              		.align	1
 601              		.global	Error_Handler
 602              		.syntax unified
 603              		.thumb
 604              		.thumb_func
 606              	Error_Handler:
 607              	.LFB73:
 169:Core/Src/main.c **** 
 170:Core/Src/main.c **** /* USER CODE END 0 */
 171:Core/Src/main.c **** 
 172:Core/Src/main.c **** /**
 173:Core/Src/main.c ****  * @brief  The application entry point.
 174:Core/Src/main.c ****  * @retval int
 175:Core/Src/main.c ****  */
 176:Core/Src/main.c **** int main(void)
 177:Core/Src/main.c **** {
 178:Core/Src/main.c ****   /* USER CODE BEGIN 1 */
 179:Core/Src/main.c **** 
 180:Core/Src/main.c ****   /* USER CODE END 1 */
 181:Core/Src/main.c **** 
 182:Core/Src/main.c ****   /* MCU Configuration--------------------------------------------------------*/
 183:Core/Src/main.c **** 
 184:Core/Src/main.c ****   /* Reset of all peripherals, Initializes the Flash interface and the Systick. */
 185:Core/Src/main.c ****   HAL_Init();
 186:Core/Src/main.c **** 
 187:Core/Src/main.c ****   /* USER CODE BEGIN Init */
 188:Core/Src/main.c **** 
 189:Core/Src/main.c ****   /* USER CODE END Init */
 190:Core/Src/main.c **** 
 191:Core/Src/main.c ****   /* Configure the system clock */
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 16


 192:Core/Src/main.c ****   SystemClock_Config();
 193:Core/Src/main.c **** 
 194:Core/Src/main.c ****   /* USER CODE BEGIN SysInit */
 195:Core/Src/main.c ****   __HAL_RCC_AFIO_CLK_ENABLE();
 196:Core/Src/main.c ****   /* USER CODE END SysInit */
 197:Core/Src/main.c **** 
 198:Core/Src/main.c ****   /* Initialize all configured peripherals */
 199:Core/Src/main.c ****   MX_GPIO_Init();
 200:Core/Src/main.c ****   MX_USART1_UART_Init();
 201:Core/Src/main.c ****   MX_USART3_UART_Init();
 202:Core/Src/main.c ****   MX_I2C1_Init();
 203:Core/Src/main.c ****   uint8_t A[] = "TCP connected!!";
 204:Core/Src/main.c ****   uint8_t B[] = "已连接！";
 205:Core/Src/main.c ****   // 初始化oled屏幕
 206:Core/Src/main.c ****   OLED_Init();
 207:Core/Src/main.c ****   // 开启OLED显示
 208:Core/Src/main.c ****   OLED_Display_On();
 209:Core/Src/main.c ****   // 清屏
 210:Core/Src/main.c ****   OLED_Clear();
 211:Core/Src/main.c **** 
 212:Core/Src/main.c ****   /* USER CODE BEGIN 2 */
 213:Core/Src/main.c **** 
 214:Core/Src/main.c ****   send_AT_command("ATE0");
 215:Core/Src/main.c ****   send_AT_command("AT+CWJAP=\"WHLD\",\"WHLDADMIN\"");
 216:Core/Src/main.c ****   HAL_Delay(2000);
 217:Core/Src/main.c **** 
 218:Core/Src/main.c ****   send_AT_command("AT+CWAUTOCONN=1");
 219:Core/Src/main.c ****   HAL_Delay(2000);
 220:Core/Src/main.c **** 
 221:Core/Src/main.c ****   int connected = 0;
 222:Core/Src/main.c ****   while (!connected)
 223:Core/Src/main.c ****   {
 224:Core/Src/main.c ****     send_AT_command("AT+CIPSTART=\"TCP\",\"192.168.50.187\",81");
 225:Core/Src/main.c ****     connected = wait_for_response("OK", 5000);
 226:Core/Src/main.c ****     if (connected)
 227:Core/Src/main.c ****     {
 228:Core/Src/main.c ****       HAL_GPIO_WritePin(LED0_GPIO_Port, LED0_Pin, GPIO_PIN_RESET);
 229:Core/Src/main.c ****       OLED_ShowString(0, 0, A, sizeof(A));
 230:Core/Src/main.c ****     }
 231:Core/Src/main.c ****     else
 232:Core/Src/main.c ****     {
 233:Core/Src/main.c ****       for (int i = 0; i < 5; i++)
 234:Core/Src/main.c ****       {
 235:Core/Src/main.c ****         HAL_GPIO_TogglePin(LED0_GPIO_Port, LED0_Pin);
 236:Core/Src/main.c ****         HAL_Delay(500);
 237:Core/Src/main.c ****       }
 238:Core/Src/main.c ****       HAL_GPIO_WritePin(LED0_GPIO_Port, LED0_Pin, GPIO_PIN_SET);
 239:Core/Src/main.c ****       HAL_Delay(1000);
 240:Core/Src/main.c ****     }
 241:Core/Src/main.c ****   }
 242:Core/Src/main.c **** 
 243:Core/Src/main.c ****   send_AT_command("AT+CIPDINFO=1");
 244:Core/Src/main.c ****   HAL_Delay(500);
 245:Core/Src/main.c **** 
 246:Core/Src/main.c ****   const char *data = "Hello\r\n"; // 7字节数据
 247:Core/Src/main.c ****   char send_cmd[20];
 248:Core/Src/main.c ****   sprintf(send_cmd, "AT+CIPSEND=%d", strlen(data));
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 17


 249:Core/Src/main.c ****   send_AT_command(send_cmd);
 250:Core/Src/main.c ****   if (wait_for_response(">", 1000))
 251:Core/Src/main.c ****   {
 252:Core/Src/main.c ****     HAL_UART_Transmit(&huart3, (uint8_t *)data, strlen(data), 1000);
 253:Core/Src/main.c ****   }
 254:Core/Src/main.c ****   /* USER CODE END 2 */
 255:Core/Src/main.c **** 
 256:Core/Src/main.c ****   /* Infinite loop */
 257:Core/Src/main.c ****   /* USER CODE BEGIN WHILE */
 258:Core/Src/main.c ****   while (1)
 259:Core/Src/main.c ****   {
 260:Core/Src/main.c ****     handle_uart1_input();    // 处理上位机命令
 261:Core/Src/main.c ****     handle_uart3_response(); // 处理ESP8266响应
 262:Core/Src/main.c ****     /* USER CODE END WHILE */
 263:Core/Src/main.c **** 
 264:Core/Src/main.c ****     /* USER CODE BEGIN 3 */
 265:Core/Src/main.c ****   }
 266:Core/Src/main.c ****   /* USER CODE END 3 */
 267:Core/Src/main.c **** }
 268:Core/Src/main.c **** 
 269:Core/Src/main.c **** /**
 270:Core/Src/main.c ****  * @brief System Clock Configuration
 271:Core/Src/main.c ****  * @retval None
 272:Core/Src/main.c ****  */
 273:Core/Src/main.c **** void SystemClock_Config(void)
 274:Core/Src/main.c **** {
 275:Core/Src/main.c ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 276:Core/Src/main.c ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 277:Core/Src/main.c **** 
 278:Core/Src/main.c ****   /** Initializes the RCC Oscillators according to the specified parameters
 279:Core/Src/main.c ****    * in the RCC_OscInitTypeDef structure.
 280:Core/Src/main.c ****    */
 281:Core/Src/main.c ****   RCC_OscInitStruct.OscillatorType = RCC_OSCILLATORTYPE_HSE;
 282:Core/Src/main.c ****   RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 283:Core/Src/main.c ****   RCC_OscInitStruct.HSEPredivValue = RCC_HSE_PREDIV_DIV1;
 284:Core/Src/main.c ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 285:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 286:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 287:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL9;
 288:Core/Src/main.c ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 289:Core/Src/main.c ****   {
 290:Core/Src/main.c ****     Error_Handler();
 291:Core/Src/main.c ****   }
 292:Core/Src/main.c **** 
 293:Core/Src/main.c ****   /** Initializes the CPU, AHB and APB buses clocks
 294:Core/Src/main.c ****    */
 295:Core/Src/main.c ****   RCC_ClkInitStruct.ClockType = RCC_CLOCKTYPE_HCLK | RCC_CLOCKTYPE_SYSCLK | RCC_CLOCKTYPE_PCLK1 | R
 296:Core/Src/main.c ****   RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
 297:Core/Src/main.c ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 298:Core/Src/main.c ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 299:Core/Src/main.c ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 300:Core/Src/main.c **** 
 301:Core/Src/main.c ****   if (HAL_RCC_ClockConfig(&RCC_ClkInitStruct, FLASH_LATENCY_2) != HAL_OK)
 302:Core/Src/main.c ****   {
 303:Core/Src/main.c ****     Error_Handler();
 304:Core/Src/main.c ****   }
 305:Core/Src/main.c **** }
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 18


 306:Core/Src/main.c **** 
 307:Core/Src/main.c **** /* USER CODE BEGIN 4 */
 308:Core/Src/main.c **** 
 309:Core/Src/main.c **** /* USER CODE END 4 */
 310:Core/Src/main.c **** 
 311:Core/Src/main.c **** /**
 312:Core/Src/main.c ****  * @brief  This function is executed in case of error occurrence.
 313:Core/Src/main.c ****  * @retval None
 314:Core/Src/main.c ****  */
 315:Core/Src/main.c **** void Error_Handler(void)
 316:Core/Src/main.c **** {
 608              		.loc 1 316 1 is_stmt 1 view -0
 609              		.cfi_startproc
 610              		@ Volatile: function does not return.
 611              		@ args = 0, pretend = 0, frame = 0
 612              		@ frame_needed = 0, uses_anonymous_args = 0
 613              		@ link register save eliminated.
 317:Core/Src/main.c ****   /* USER CODE BEGIN Error_Handler_Debug */
 318:Core/Src/main.c ****   /* User can add his own implementation to report the HAL error return state */
 319:Core/Src/main.c ****   __disable_irq();
 614              		.loc 1 319 3 view .LVU132
 615              	.LBB11:
 616              	.LBI11:
 617              		.file 2 "Drivers/CMSIS/Include/cmsis_gcc.h"
   1:Drivers/CMSIS/Include/cmsis_gcc.h **** /**************************************************************************//**
   2:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @file     cmsis_gcc.h
   3:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @brief    CMSIS compiler GCC header file
   4:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @version  V5.0.4
   5:Drivers/CMSIS/Include/cmsis_gcc.h ****  * @date     09. April 2018
   6:Drivers/CMSIS/Include/cmsis_gcc.h ****  ******************************************************************************/
   7:Drivers/CMSIS/Include/cmsis_gcc.h **** /*
   8:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Copyright (c) 2009-2018 Arm Limited. All rights reserved.
   9:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  10:Drivers/CMSIS/Include/cmsis_gcc.h ****  * SPDX-License-Identifier: Apache-2.0
  11:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  12:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Licensed under the Apache License, Version 2.0 (the License); you may
  13:Drivers/CMSIS/Include/cmsis_gcc.h ****  * not use this file except in compliance with the License.
  14:Drivers/CMSIS/Include/cmsis_gcc.h ****  * You may obtain a copy of the License at
  15:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  16:Drivers/CMSIS/Include/cmsis_gcc.h ****  * www.apache.org/licenses/LICENSE-2.0
  17:Drivers/CMSIS/Include/cmsis_gcc.h ****  *
  18:Drivers/CMSIS/Include/cmsis_gcc.h ****  * Unless required by applicable law or agreed to in writing, software
  19:Drivers/CMSIS/Include/cmsis_gcc.h ****  * distributed under the License is distributed on an AS IS BASIS, WITHOUT
  20:Drivers/CMSIS/Include/cmsis_gcc.h ****  * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  21:Drivers/CMSIS/Include/cmsis_gcc.h ****  * See the License for the specific language governing permissions and
  22:Drivers/CMSIS/Include/cmsis_gcc.h ****  * limitations under the License.
  23:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
  24:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  25:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __CMSIS_GCC_H
  26:Drivers/CMSIS/Include/cmsis_gcc.h **** #define __CMSIS_GCC_H
  27:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  28:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ignore some GCC warnings */
  29:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic push
  30:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wsign-conversion"
  31:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wconversion"
  32:Drivers/CMSIS/Include/cmsis_gcc.h **** #pragma GCC diagnostic ignored "-Wunused-parameter"
  33:Drivers/CMSIS/Include/cmsis_gcc.h **** 
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 19


  34:Drivers/CMSIS/Include/cmsis_gcc.h **** /* Fallback for __has_builtin */
  35:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef __has_builtin
  36:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __has_builtin(x) (0)
  37:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  38:Drivers/CMSIS/Include/cmsis_gcc.h **** 
  39:Drivers/CMSIS/Include/cmsis_gcc.h **** /* CMSIS compiler specific defines */
  40:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ASM
  41:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ASM                                  __asm
  42:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  43:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __INLINE
  44:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __INLINE                               inline
  45:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  46:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_INLINE
  47:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_INLINE                        static inline
  48:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  49:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __STATIC_FORCEINLINE                 
  50:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __STATIC_FORCEINLINE                   __attribute__((always_inline)) static inline
  51:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif                                           
  52:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __NO_RETURN
  53:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __NO_RETURN                            __attribute__((__noreturn__))
  54:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  55:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __USED
  56:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __USED                                 __attribute__((used))
  57:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  58:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __WEAK
  59:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __WEAK                                 __attribute__((weak))
  60:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  61:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED
  62:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED                               __attribute__((packed, aligned(1)))
  63:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  64:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_STRUCT
  65:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_STRUCT                        struct __attribute__((packed, aligned(1)))
  66:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  67:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __PACKED_UNION
  68:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __PACKED_UNION                         union __attribute__((packed, aligned(1)))
  69:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  70:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32        /* deprecated */
  71:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  72:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  73:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  74:Drivers/CMSIS/Include/cmsis_gcc.h ****   struct __attribute__((packed)) T_UINT32 { uint32_t v; };
  75:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  76:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32(x)                  (((struct T_UINT32 *)(x))->v)
  77:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  78:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_WRITE
  79:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  80:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  81:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  82:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_WRITE { uint16_t v; };
  83:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  84:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_WRITE(addr, val)    (void)((((struct T_UINT16_WRITE *)(void *)(addr))-
  85:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  86:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT16_READ
  87:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  88:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  89:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  90:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT16_READ { uint16_t v; };
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 20


  91:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
  92:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT16_READ(addr)          (((const struct T_UINT16_READ *)(const void *)(add
  93:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
  94:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_WRITE
  95:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
  96:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
  97:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
  98:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_WRITE { uint32_t v; };
  99:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 100:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_WRITE(addr, val)    (void)((((struct T_UINT32_WRITE *)(void *)(addr))-
 101:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 102:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __UNALIGNED_UINT32_READ
 103:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic push
 104:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wpacked"
 105:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic ignored "-Wattributes"
 106:Drivers/CMSIS/Include/cmsis_gcc.h ****   __PACKED_STRUCT T_UINT32_READ { uint32_t v; };
 107:Drivers/CMSIS/Include/cmsis_gcc.h ****   #pragma GCC diagnostic pop
 108:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __UNALIGNED_UINT32_READ(addr)          (((const struct T_UINT32_READ *)(const void *)(add
 109:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 110:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __ALIGNED
 111:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __ALIGNED(x)                           __attribute__((aligned(x)))
 112:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 113:Drivers/CMSIS/Include/cmsis_gcc.h **** #ifndef   __RESTRICT
 114:Drivers/CMSIS/Include/cmsis_gcc.h ****   #define __RESTRICT                             __restrict
 115:Drivers/CMSIS/Include/cmsis_gcc.h **** #endif
 116:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 117:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 118:Drivers/CMSIS/Include/cmsis_gcc.h **** /* ###########################  Core Function Access  ########################### */
 119:Drivers/CMSIS/Include/cmsis_gcc.h **** /** \ingroup  CMSIS_Core_FunctionInterface
 120:Drivers/CMSIS/Include/cmsis_gcc.h ****     \defgroup CMSIS_Core_RegAccFunctions CMSIS Core Register Access Functions
 121:Drivers/CMSIS/Include/cmsis_gcc.h ****   @{
 122:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 123:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 124:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 125:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Enable IRQ Interrupts
 126:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Enables IRQ interrupts by clearing the I-bit in the CPSR.
 127:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 128:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 129:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __enable_irq(void)
 130:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 131:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsie i" : : : "memory");
 132:Drivers/CMSIS/Include/cmsis_gcc.h **** }
 133:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 134:Drivers/CMSIS/Include/cmsis_gcc.h **** 
 135:Drivers/CMSIS/Include/cmsis_gcc.h **** /**
 136:Drivers/CMSIS/Include/cmsis_gcc.h ****   \brief   Disable IRQ Interrupts
 137:Drivers/CMSIS/Include/cmsis_gcc.h ****   \details Disables IRQ interrupts by setting the I-bit in the CPSR.
 138:Drivers/CMSIS/Include/cmsis_gcc.h ****            Can only be executed in Privileged modes.
 139:Drivers/CMSIS/Include/cmsis_gcc.h ****  */
 140:Drivers/CMSIS/Include/cmsis_gcc.h **** __STATIC_FORCEINLINE void __disable_irq(void)
 618              		.loc 2 140 27 view .LVU133
 619              	.LBB12:
 141:Drivers/CMSIS/Include/cmsis_gcc.h **** {
 142:Drivers/CMSIS/Include/cmsis_gcc.h ****   __ASM volatile ("cpsid i" : : : "memory");
 620              		.loc 2 142 3 view .LVU134
 621              		.syntax unified
 622              	@ 142 "Drivers/CMSIS/Include/cmsis_gcc.h" 1
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 21


 623 0000 72B6     		cpsid i
 624              	@ 0 "" 2
 625              		.thumb
 626              		.syntax unified
 627              	.L53:
 628              	.LBE12:
 629              	.LBE11:
 320:Core/Src/main.c ****   while (1)
 630              		.loc 1 320 3 discriminator 1 view .LVU135
 321:Core/Src/main.c ****   {
 322:Core/Src/main.c ****   }
 631              		.loc 1 322 3 discriminator 1 view .LVU136
 320:Core/Src/main.c ****   while (1)
 632              		.loc 1 320 9 discriminator 1 view .LVU137
 633 0002 FEE7     		b	.L53
 634              		.cfi_endproc
 635              	.LFE73:
 637              		.section	.text.SystemClock_Config,"ax",%progbits
 638              		.align	1
 639              		.global	SystemClock_Config
 640              		.syntax unified
 641              		.thumb
 642              		.thumb_func
 644              	SystemClock_Config:
 645              	.LFB72:
 274:Core/Src/main.c ****   RCC_OscInitTypeDef RCC_OscInitStruct = {0};
 646              		.loc 1 274 1 view -0
 647              		.cfi_startproc
 648              		@ args = 0, pretend = 0, frame = 64
 649              		@ frame_needed = 0, uses_anonymous_args = 0
 650 0000 00B5     		push	{lr}
 651              	.LCFI13:
 652              		.cfi_def_cfa_offset 4
 653              		.cfi_offset 14, -4
 654 0002 91B0     		sub	sp, sp, #68
 655              	.LCFI14:
 656              		.cfi_def_cfa_offset 72
 275:Core/Src/main.c ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 657              		.loc 1 275 3 view .LVU139
 275:Core/Src/main.c ****   RCC_ClkInitTypeDef RCC_ClkInitStruct = {0};
 658              		.loc 1 275 22 is_stmt 0 view .LVU140
 659 0004 2822     		movs	r2, #40
 660 0006 0021     		movs	r1, #0
 661 0008 06A8     		add	r0, sp, #24
 662 000a FFF7FEFF 		bl	memset
 663              	.LVL42:
 276:Core/Src/main.c **** 
 664              		.loc 1 276 3 is_stmt 1 view .LVU141
 276:Core/Src/main.c **** 
 665              		.loc 1 276 22 is_stmt 0 view .LVU142
 666 000e 0023     		movs	r3, #0
 667 0010 0193     		str	r3, [sp, #4]
 668 0012 0293     		str	r3, [sp, #8]
 669 0014 0393     		str	r3, [sp, #12]
 670 0016 0493     		str	r3, [sp, #16]
 671 0018 0593     		str	r3, [sp, #20]
 281:Core/Src/main.c ****   RCC_OscInitStruct.HSEState = RCC_HSE_ON;
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 22


 672              		.loc 1 281 3 is_stmt 1 view .LVU143
 281:Core/Src/main.c ****   RCC_OscInitStruct.HSEState = RCC_HSE_ON;
 673              		.loc 1 281 36 is_stmt 0 view .LVU144
 674 001a 0122     		movs	r2, #1
 675 001c 0692     		str	r2, [sp, #24]
 282:Core/Src/main.c ****   RCC_OscInitStruct.HSEPredivValue = RCC_HSE_PREDIV_DIV1;
 676              		.loc 1 282 3 is_stmt 1 view .LVU145
 282:Core/Src/main.c ****   RCC_OscInitStruct.HSEPredivValue = RCC_HSE_PREDIV_DIV1;
 677              		.loc 1 282 30 is_stmt 0 view .LVU146
 678 001e 4FF48033 		mov	r3, #65536
 679 0022 0793     		str	r3, [sp, #28]
 283:Core/Src/main.c ****   RCC_OscInitStruct.HSIState = RCC_HSI_ON;
 680              		.loc 1 283 3 is_stmt 1 view .LVU147
 284:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 681              		.loc 1 284 3 view .LVU148
 284:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLState = RCC_PLL_ON;
 682              		.loc 1 284 30 is_stmt 0 view .LVU149
 683 0024 0A92     		str	r2, [sp, #40]
 285:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 684              		.loc 1 285 3 is_stmt 1 view .LVU150
 285:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLSource = RCC_PLLSOURCE_HSE;
 685              		.loc 1 285 34 is_stmt 0 view .LVU151
 686 0026 0222     		movs	r2, #2
 687 0028 0D92     		str	r2, [sp, #52]
 286:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL9;
 688              		.loc 1 286 3 is_stmt 1 view .LVU152
 286:Core/Src/main.c ****   RCC_OscInitStruct.PLL.PLLMUL = RCC_PLL_MUL9;
 689              		.loc 1 286 35 is_stmt 0 view .LVU153
 690 002a 0E93     		str	r3, [sp, #56]
 287:Core/Src/main.c ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 691              		.loc 1 287 3 is_stmt 1 view .LVU154
 287:Core/Src/main.c ****   if (HAL_RCC_OscConfig(&RCC_OscInitStruct) != HAL_OK)
 692              		.loc 1 287 32 is_stmt 0 view .LVU155
 693 002c 4FF4E013 		mov	r3, #1835008
 694 0030 0F93     		str	r3, [sp, #60]
 288:Core/Src/main.c ****   {
 695              		.loc 1 288 3 is_stmt 1 view .LVU156
 288:Core/Src/main.c ****   {
 696              		.loc 1 288 7 is_stmt 0 view .LVU157
 697 0032 06A8     		add	r0, sp, #24
 698 0034 FFF7FEFF 		bl	HAL_RCC_OscConfig
 699              	.LVL43:
 288:Core/Src/main.c ****   {
 700              		.loc 1 288 6 view .LVU158
 701 0038 80B9     		cbnz	r0, .L58
 295:Core/Src/main.c ****   RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
 702              		.loc 1 295 3 is_stmt 1 view .LVU159
 295:Core/Src/main.c ****   RCC_ClkInitStruct.SYSCLKSource = RCC_SYSCLKSOURCE_PLLCLK;
 703              		.loc 1 295 31 is_stmt 0 view .LVU160
 704 003a 0F23     		movs	r3, #15
 705 003c 0193     		str	r3, [sp, #4]
 296:Core/Src/main.c ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 706              		.loc 1 296 3 is_stmt 1 view .LVU161
 296:Core/Src/main.c ****   RCC_ClkInitStruct.AHBCLKDivider = RCC_SYSCLK_DIV1;
 707              		.loc 1 296 34 is_stmt 0 view .LVU162
 708 003e 0221     		movs	r1, #2
 709 0040 0291     		str	r1, [sp, #8]
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 23


 297:Core/Src/main.c ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 710              		.loc 1 297 3 is_stmt 1 view .LVU163
 297:Core/Src/main.c ****   RCC_ClkInitStruct.APB1CLKDivider = RCC_HCLK_DIV2;
 711              		.loc 1 297 35 is_stmt 0 view .LVU164
 712 0042 0023     		movs	r3, #0
 713 0044 0393     		str	r3, [sp, #12]
 298:Core/Src/main.c ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 714              		.loc 1 298 3 is_stmt 1 view .LVU165
 298:Core/Src/main.c ****   RCC_ClkInitStruct.APB2CLKDivider = RCC_HCLK_DIV1;
 715              		.loc 1 298 36 is_stmt 0 view .LVU166
 716 0046 4FF48062 		mov	r2, #1024
 717 004a 0492     		str	r2, [sp, #16]
 299:Core/Src/main.c **** 
 718              		.loc 1 299 3 is_stmt 1 view .LVU167
 299:Core/Src/main.c **** 
 719              		.loc 1 299 36 is_stmt 0 view .LVU168
 720 004c 0593     		str	r3, [sp, #20]
 301:Core/Src/main.c ****   {
 721              		.loc 1 301 3 is_stmt 1 view .LVU169
 301:Core/Src/main.c ****   {
 722              		.loc 1 301 7 is_stmt 0 view .LVU170
 723 004e 01A8     		add	r0, sp, #4
 724 0050 FFF7FEFF 		bl	HAL_RCC_ClockConfig
 725              	.LVL44:
 301:Core/Src/main.c ****   {
 726              		.loc 1 301 6 view .LVU171
 727 0054 20B9     		cbnz	r0, .L59
 305:Core/Src/main.c **** 
 728              		.loc 1 305 1 view .LVU172
 729 0056 11B0     		add	sp, sp, #68
 730              	.LCFI15:
 731              		.cfi_remember_state
 732              		.cfi_def_cfa_offset 4
 733              		@ sp needed
 734 0058 5DF804FB 		ldr	pc, [sp], #4
 735              	.L58:
 736              	.LCFI16:
 737              		.cfi_restore_state
 290:Core/Src/main.c ****   }
 738              		.loc 1 290 5 is_stmt 1 view .LVU173
 739 005c FFF7FEFF 		bl	Error_Handler
 740              	.LVL45:
 741              	.L59:
 303:Core/Src/main.c ****   }
 742              		.loc 1 303 5 view .LVU174
 743 0060 FFF7FEFF 		bl	Error_Handler
 744              	.LVL46:
 745              		.cfi_endproc
 746              	.LFE72:
 748              		.section	.rodata.main.str1.4,"aMS",%progbits,1
 749              		.align	2
 750              	.LC6:
 751 0000 41544530 		.ascii	"ATE0\000"
 751      00
 752 0005 000000   		.align	2
 753              	.LC7:
 754 0008 41542B43 		.ascii	"AT+CWJAP=\"WHLD\",\"WHLDADMIN\"\000"
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 24


 754      574A4150 
 754      3D225748 
 754      4C44222C 
 754      2257484C 
 755              		.align	2
 756              	.LC8:
 757 0024 41542B43 		.ascii	"AT+CWAUTOCONN=1\000"
 757      57415554 
 757      4F434F4E 
 757      4E3D3100 
 758              		.align	2
 759              	.LC9:
 760 0034 41542B43 		.ascii	"AT+CIPSTART=\"TCP\",\"192.168.50.187\",81\000"
 760      49505354 
 760      4152543D 
 760      22544350 
 760      222C2231 
 761 005a 0000     		.align	2
 762              	.LC10:
 763 005c 4F4B00   		.ascii	"OK\000"
 764 005f 00       		.align	2
 765              	.LC11:
 766 0060 41542B43 		.ascii	"AT+CIPDINFO=1\000"
 766      49504449 
 766      4E464F3D 
 766      3100
 767 006e 0000     		.align	2
 768              	.LC12:
 769 0070 48656C6C 		.ascii	"Hello\015\012\000"
 769      6F0D0A00 
 770              		.align	2
 771              	.LC4:
 772 0078 54435020 		.ascii	"TCP connected!!\000"
 772      636F6E6E 
 772      65637465 
 772      64212100 
 773              		.align	2
 774              	.LC5:
 775 0088 E5B7B2E8 		.ascii	"\345\267\262\350\277\236\346\216\245\357\274\201\000"
 775      BF9EE68E 
 775      A5EFBC81 
 775      00
 776              		.section	.text.main,"ax",%progbits
 777              		.align	1
 778              		.global	main
 779              		.syntax unified
 780              		.thumb
 781              		.thumb_func
 783              	main:
 784              	.LFB71:
 177:Core/Src/main.c ****   /* USER CODE BEGIN 1 */
 785              		.loc 1 177 1 view -0
 786              		.cfi_startproc
 787              		@ args = 0, pretend = 0, frame = 56
 788              		@ frame_needed = 0, uses_anonymous_args = 0
 789 0000 30B5     		push	{r4, r5, lr}
 790              	.LCFI17:
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 25


 791              		.cfi_def_cfa_offset 12
 792              		.cfi_offset 4, -12
 793              		.cfi_offset 5, -8
 794              		.cfi_offset 14, -4
 795 0002 8FB0     		sub	sp, sp, #60
 796              	.LCFI18:
 797              		.cfi_def_cfa_offset 72
 185:Core/Src/main.c **** 
 798              		.loc 1 185 3 view .LVU176
 799 0004 FFF7FEFF 		bl	HAL_Init
 800              	.LVL47:
 192:Core/Src/main.c **** 
 801              		.loc 1 192 3 view .LVU177
 802 0008 FFF7FEFF 		bl	SystemClock_Config
 803              	.LVL48:
 195:Core/Src/main.c ****   /* USER CODE END SysInit */
 804              		.loc 1 195 3 view .LVU178
 805              	.LBB13:
 195:Core/Src/main.c ****   /* USER CODE END SysInit */
 806              		.loc 1 195 3 view .LVU179
 195:Core/Src/main.c ****   /* USER CODE END SysInit */
 807              		.loc 1 195 3 view .LVU180
 808 000c 414B     		ldr	r3, .L72
 809 000e 9A69     		ldr	r2, [r3, #24]
 810 0010 42F00102 		orr	r2, r2, #1
 811 0014 9A61     		str	r2, [r3, #24]
 195:Core/Src/main.c ****   /* USER CODE END SysInit */
 812              		.loc 1 195 3 view .LVU181
 813 0016 9B69     		ldr	r3, [r3, #24]
 814 0018 03F00103 		and	r3, r3, #1
 815 001c 0093     		str	r3, [sp]
 195:Core/Src/main.c ****   /* USER CODE END SysInit */
 816              		.loc 1 195 3 view .LVU182
 817 001e 009B     		ldr	r3, [sp]
 818              	.LBE13:
 195:Core/Src/main.c ****   /* USER CODE END SysInit */
 819              		.loc 1 195 3 view .LVU183
 199:Core/Src/main.c ****   MX_USART1_UART_Init();
 820              		.loc 1 199 3 view .LVU184
 821 0020 FFF7FEFF 		bl	MX_GPIO_Init
 822              	.LVL49:
 200:Core/Src/main.c ****   MX_USART3_UART_Init();
 823              		.loc 1 200 3 view .LVU185
 824 0024 FFF7FEFF 		bl	MX_USART1_UART_Init
 825              	.LVL50:
 201:Core/Src/main.c ****   MX_I2C1_Init();
 826              		.loc 1 201 3 view .LVU186
 827 0028 FFF7FEFF 		bl	MX_USART3_UART_Init
 828              	.LVL51:
 202:Core/Src/main.c ****   uint8_t A[] = "TCP connected!!";
 829              		.loc 1 202 3 view .LVU187
 830 002c FFF7FEFF 		bl	MX_I2C1_Init
 831              	.LVL52:
 203:Core/Src/main.c ****   uint8_t B[] = "已连接！";
 832              		.loc 1 203 3 view .LVU188
 203:Core/Src/main.c ****   uint8_t B[] = "已连接！";
 833              		.loc 1 203 11 is_stmt 0 view .LVU189
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 26


 834 0030 394B     		ldr	r3, .L72+4
 835 0032 0FCB     		ldm	r3, {r0, r1, r2, r3}
 836 0034 0EAC     		add	r4, sp, #56
 837 0036 04E90F00 		stmdb	r4, {r0, r1, r2, r3}
 204:Core/Src/main.c ****   // 初始化oled屏幕
 838              		.loc 1 204 3 is_stmt 1 view .LVU190
 204:Core/Src/main.c ****   // 初始化oled屏幕
 839              		.loc 1 204 11 is_stmt 0 view .LVU191
 840 003a 384B     		ldr	r3, .L72+8
 841 003c 06AC     		add	r4, sp, #24
 842 003e 0FCB     		ldm	r3, {r0, r1, r2, r3}
 843 0040 07C4     		stmia	r4!, {r0, r1, r2}
 844 0042 2370     		strb	r3, [r4]
 206:Core/Src/main.c ****   // 开启OLED显示
 845              		.loc 1 206 3 is_stmt 1 view .LVU192
 846 0044 FFF7FEFF 		bl	OLED_Init
 847              	.LVL53:
 208:Core/Src/main.c ****   // 清屏
 848              		.loc 1 208 3 view .LVU193
 849 0048 FFF7FEFF 		bl	OLED_Display_On
 850              	.LVL54:
 210:Core/Src/main.c **** 
 851              		.loc 1 210 3 view .LVU194
 852 004c FFF7FEFF 		bl	OLED_Clear
 853              	.LVL55:
 214:Core/Src/main.c ****   send_AT_command("AT+CWJAP=\"WHLD\",\"WHLDADMIN\"");
 854              		.loc 1 214 3 view .LVU195
 855 0050 3348     		ldr	r0, .L72+12
 856 0052 FFF7FEFF 		bl	send_AT_command
 857              	.LVL56:
 215:Core/Src/main.c ****   HAL_Delay(2000);
 858              		.loc 1 215 3 view .LVU196
 859 0056 3348     		ldr	r0, .L72+16
 860 0058 FFF7FEFF 		bl	send_AT_command
 861              	.LVL57:
 216:Core/Src/main.c **** 
 862              		.loc 1 216 3 view .LVU197
 863 005c 4FF4FA60 		mov	r0, #2000
 864 0060 FFF7FEFF 		bl	HAL_Delay
 865              	.LVL58:
 218:Core/Src/main.c ****   HAL_Delay(2000);
 866              		.loc 1 218 3 view .LVU198
 867 0064 3048     		ldr	r0, .L72+20
 868 0066 FFF7FEFF 		bl	send_AT_command
 869              	.LVL59:
 219:Core/Src/main.c **** 
 870              		.loc 1 219 3 view .LVU199
 871 006a 4FF4FA60 		mov	r0, #2000
 872 006e FFF7FEFF 		bl	HAL_Delay
 873              	.LVL60:
 221:Core/Src/main.c ****   while (!connected)
 874              		.loc 1 221 3 view .LVU200
 222:Core/Src/main.c ****   {
 875              		.loc 1 222 3 view .LVU201
 221:Core/Src/main.c ****   while (!connected)
 876              		.loc 1 221 7 is_stmt 0 view .LVU202
 877 0072 0025     		movs	r5, #0
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 27


 222:Core/Src/main.c ****   {
 878              		.loc 1 222 9 view .LVU203
 879 0074 13E0     		b	.L61
 880              	.LVL61:
 881              	.L64:
 882              	.LBB14:
 235:Core/Src/main.c ****         HAL_Delay(500);
 883              		.loc 1 235 9 is_stmt 1 discriminator 3 view .LVU204
 884 0076 2021     		movs	r1, #32
 885 0078 2C48     		ldr	r0, .L72+24
 886 007a FFF7FEFF 		bl	HAL_GPIO_TogglePin
 887              	.LVL62:
 236:Core/Src/main.c ****       }
 888              		.loc 1 236 9 discriminator 3 view .LVU205
 889 007e 4FF4FA70 		mov	r0, #500
 890 0082 FFF7FEFF 		bl	HAL_Delay
 891              	.LVL63:
 233:Core/Src/main.c ****       {
 892              		.loc 1 233 30 discriminator 3 view .LVU206
 233:Core/Src/main.c ****       {
 893              		.loc 1 233 31 is_stmt 0 discriminator 3 view .LVU207
 894 0086 0134     		adds	r4, r4, #1
 895              	.LVL64:
 896              	.L62:
 233:Core/Src/main.c ****       {
 897              		.loc 1 233 23 is_stmt 1 discriminator 1 view .LVU208
 233:Core/Src/main.c ****       {
 898              		.loc 1 233 7 is_stmt 0 discriminator 1 view .LVU209
 899 0088 042C     		cmp	r4, #4
 900 008a F4DD     		ble	.L64
 901              	.LBE14:
 238:Core/Src/main.c ****       HAL_Delay(1000);
 902              		.loc 1 238 7 is_stmt 1 view .LVU210
 903 008c 0122     		movs	r2, #1
 904 008e 2021     		movs	r1, #32
 905 0090 2648     		ldr	r0, .L72+24
 906 0092 FFF7FEFF 		bl	HAL_GPIO_WritePin
 907              	.LVL65:
 239:Core/Src/main.c ****     }
 908              		.loc 1 239 7 view .LVU211
 909 0096 4FF47A70 		mov	r0, #1000
 910 009a FFF7FEFF 		bl	HAL_Delay
 911              	.LVL66:
 912              	.L61:
 222:Core/Src/main.c ****   {
 913              		.loc 1 222 9 view .LVU212
 914 009e BDB9     		cbnz	r5, .L70
 224:Core/Src/main.c ****     connected = wait_for_response("OK", 5000);
 915              		.loc 1 224 5 view .LVU213
 916 00a0 2348     		ldr	r0, .L72+28
 917 00a2 FFF7FEFF 		bl	send_AT_command
 918              	.LVL67:
 225:Core/Src/main.c ****     if (connected)
 919              		.loc 1 225 5 view .LVU214
 225:Core/Src/main.c ****     if (connected)
 920              		.loc 1 225 17 is_stmt 0 view .LVU215
 921 00a6 41F28831 		movw	r1, #5000
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 28


 922 00aa 2248     		ldr	r0, .L72+32
 923 00ac FFF7FEFF 		bl	wait_for_response
 924              	.LVL68:
 226:Core/Src/main.c ****     {
 925              		.loc 1 226 5 is_stmt 1 view .LVU216
 226:Core/Src/main.c ****     {
 926              		.loc 1 226 8 is_stmt 0 view .LVU217
 927 00b0 0546     		mov	r5, r0
 928 00b2 58B1     		cbz	r0, .L68
 929              	.LBB15:
 228:Core/Src/main.c ****       OLED_ShowString(0, 0, A, sizeof(A));
 930              		.loc 1 228 7 is_stmt 1 view .LVU218
 931 00b4 0022     		movs	r2, #0
 932 00b6 2021     		movs	r1, #32
 933 00b8 1C48     		ldr	r0, .L72+24
 934              	.LVL69:
 228:Core/Src/main.c ****       OLED_ShowString(0, 0, A, sizeof(A));
 935              		.loc 1 228 7 is_stmt 0 view .LVU219
 936 00ba FFF7FEFF 		bl	HAL_GPIO_WritePin
 937              	.LVL70:
 229:Core/Src/main.c ****     }
 938              		.loc 1 229 7 is_stmt 1 view .LVU220
 939 00be 1023     		movs	r3, #16
 940 00c0 0AAA     		add	r2, sp, #40
 941 00c2 0021     		movs	r1, #0
 942 00c4 0846     		mov	r0, r1
 943 00c6 FFF7FEFF 		bl	OLED_ShowString
 944              	.LVL71:
 945              	.LBE15:
 946 00ca E8E7     		b	.L61
 947              	.LVL72:
 948              	.L68:
 949              	.LBB16:
 233:Core/Src/main.c ****       {
 950              		.loc 1 233 16 is_stmt 0 view .LVU221
 951 00cc 0446     		mov	r4, r0
 952 00ce DBE7     		b	.L62
 953              	.LVL73:
 954              	.L70:
 233:Core/Src/main.c ****       {
 955              		.loc 1 233 16 view .LVU222
 956              	.LBE16:
 243:Core/Src/main.c ****   HAL_Delay(500);
 957              		.loc 1 243 3 is_stmt 1 view .LVU223
 958 00d0 1948     		ldr	r0, .L72+36
 959 00d2 FFF7FEFF 		bl	send_AT_command
 960              	.LVL74:
 244:Core/Src/main.c **** 
 961              		.loc 1 244 3 view .LVU224
 962 00d6 4FF4FA70 		mov	r0, #500
 963 00da FFF7FEFF 		bl	HAL_Delay
 964              	.LVL75:
 246:Core/Src/main.c ****   char send_cmd[20];
 965              		.loc 1 246 3 view .LVU225
 247:Core/Src/main.c ****   sprintf(send_cmd, "AT+CIPSEND=%d", strlen(data));
 966              		.loc 1 247 3 view .LVU226
 248:Core/Src/main.c ****   send_AT_command(send_cmd);
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 29


 967              		.loc 1 248 3 view .LVU227
 968 00de 0722     		movs	r2, #7
 969 00e0 1649     		ldr	r1, .L72+40
 970 00e2 01A8     		add	r0, sp, #4
 971 00e4 FFF7FEFF 		bl	sprintf
 972              	.LVL76:
 249:Core/Src/main.c ****   if (wait_for_response(">", 1000))
 973              		.loc 1 249 3 view .LVU228
 974 00e8 01A8     		add	r0, sp, #4
 975 00ea FFF7FEFF 		bl	send_AT_command
 976              	.LVL77:
 250:Core/Src/main.c ****   {
 977              		.loc 1 250 3 view .LVU229
 250:Core/Src/main.c ****   {
 978              		.loc 1 250 7 is_stmt 0 view .LVU230
 979 00ee 4FF47A71 		mov	r1, #1000
 980 00f2 1348     		ldr	r0, .L72+44
 981 00f4 FFF7FEFF 		bl	wait_for_response
 982              	.LVL78:
 250:Core/Src/main.c ****   {
 983              		.loc 1 250 6 view .LVU231
 984 00f8 20B9     		cbnz	r0, .L71
 985              	.L67:
 258:Core/Src/main.c ****   {
 986              		.loc 1 258 3 is_stmt 1 discriminator 1 view .LVU232
 260:Core/Src/main.c ****     handle_uart3_response(); // 处理ESP8266响应
 987              		.loc 1 260 5 discriminator 1 view .LVU233
 988 00fa FFF7FEFF 		bl	handle_uart1_input
 989              	.LVL79:
 261:Core/Src/main.c ****     /* USER CODE END WHILE */
 990              		.loc 1 261 5 discriminator 1 view .LVU234
 991 00fe FFF7FEFF 		bl	handle_uart3_response
 992              	.LVL80:
 258:Core/Src/main.c ****   {
 993              		.loc 1 258 9 discriminator 1 view .LVU235
 994 0102 FAE7     		b	.L67
 995              	.L71:
 252:Core/Src/main.c ****   }
 996              		.loc 1 252 5 view .LVU236
 997 0104 4FF47A73 		mov	r3, #1000
 998 0108 0722     		movs	r2, #7
 999 010a 0E49     		ldr	r1, .L72+48
 1000 010c 0E48     		ldr	r0, .L72+52
 1001 010e FFF7FEFF 		bl	HAL_UART_Transmit
 1002              	.LVL81:
 1003 0112 F2E7     		b	.L67
 1004              	.L73:
 1005              		.align	2
 1006              	.L72:
 1007 0114 00100240 		.word	1073876992
 1008 0118 78000000 		.word	.LC4
 1009 011c 88000000 		.word	.LC5
 1010 0120 00000000 		.word	.LC6
 1011 0124 08000000 		.word	.LC7
 1012 0128 24000000 		.word	.LC8
 1013 012c 000C0140 		.word	1073810432
 1014 0130 34000000 		.word	.LC9
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 30


 1015 0134 5C000000 		.word	.LC10
 1016 0138 60000000 		.word	.LC11
 1017 013c 00000000 		.word	.LC1
 1018 0140 10000000 		.word	.LC2
 1019 0144 70000000 		.word	.LC12
 1020 0148 00000000 		.word	huart3
 1021              		.cfi_endproc
 1022              	.LFE71:
 1024              		.global	command_index
 1025              		.section	.bss.command_index,"aw",%nobits
 1026              		.align	1
 1027              		.set	.LANCHOR1,. + 0
 1030              	command_index:
 1031 0000 0000     		.space	2
 1032              		.section	.bss.input_line.0,"aw",%nobits
 1033              		.align	2
 1034              		.set	.LANCHOR3,. + 0
 1037              	input_line.0:
 1038 0000 00000000 		.space	128
 1038      00000000 
 1038      00000000 
 1038      00000000 
 1038      00000000 
 1039              		.section	.bss.input_pos.1,"aw",%nobits
 1040              		.align	2
 1041              		.set	.LANCHOR2,. + 0
 1044              	input_pos.1:
 1045 0000 00000000 		.space	4
 1046              		.section	.bss.last_head.2,"aw",%nobits
 1047              		.align	1
 1048              		.set	.LANCHOR0,. + 0
 1051              	last_head.2:
 1052 0000 0000     		.space	2
 1053              		.text
 1054              	.Letext0:
 1055              		.file 3 "c:\\env\\tools\\gnu_gcc\\arm_gcc\\mingw\\arm-none-eabi\\include\\machine\\_default_types.
 1056              		.file 4 "c:\\env\\tools\\gnu_gcc\\arm_gcc\\mingw\\arm-none-eabi\\include\\sys\\_stdint.h"
 1057              		.file 5 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xe.h"
 1058              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 1059              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_rcc.h"
 1060              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_rcc_ex.h"
 1061              		.file 9 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_gpio.h"
 1062              		.file 10 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 1063              		.file 11 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_uart.h"
 1064              		.file 12 "Core/Inc/usart.h"
 1065              		.file 13 "<built-in>"
 1066              		.file 14 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 1067              		.file 15 "Core/Inc/gpio.h"
 1068              		.file 16 "Core/Inc/i2c.h"
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 31


DEFINED SYMBOLS
                            *ABS*:00000000 main.c
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:18     .text.uart3_send:00000000 $t
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:24     .text.uart3_send:00000000 uart3_send
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:57     .text.uart3_send:00000018 $d
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:62     .text.handle_uart3_response:00000000 $t
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:68     .text.handle_uart3_response:00000000 handle_uart3_response
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:139    .text.handle_uart3_response:00000044 $d
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:147    .rodata.send_AT_command.str1.4:00000000 $d
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:151    .text.send_AT_command:00000000 $t
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:157    .text.send_AT_command:00000000 send_AT_command
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:199    .text.send_AT_command:00000028 $d
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:205    .text.wait_for_response:00000000 $t
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:211    .text.wait_for_response:00000000 wait_for_response
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:361    .text.wait_for_response:00000074 $d
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:367    .rodata.send_tcp_data.str1.4:00000000 $d
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:377    .text.send_tcp_data:00000000 $t
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:383    .text.send_tcp_data:00000000 send_tcp_data
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:465    .text.send_tcp_data:00000058 $d
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:473    .text.handle_uart1_input:00000000 $t
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:479    .text.handle_uart1_input:00000000 handle_uart1_input
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:591    .text.handle_uart1_input:00000068 $d
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:600    .text.Error_Handler:00000000 $t
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:606    .text.Error_Handler:00000000 Error_Handler
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:638    .text.SystemClock_Config:00000000 $t
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:644    .text.SystemClock_Config:00000000 SystemClock_Config
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:749    .rodata.main.str1.4:00000000 $d
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:777    .text.main:00000000 $t
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:783    .text.main:00000000 main
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:1007   .text.main:00000114 $d
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:1030   .bss.command_index:00000000 command_index
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:1026   .bss.command_index:00000000 $d
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:1033   .bss.input_line.0:00000000 $d
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:1037   .bss.input_line.0:00000000 input_line.0
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:1040   .bss.input_pos.1:00000000 $d
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:1044   .bss.input_pos.1:00000000 input_pos.1
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:1047   .bss.last_head.2:00000000 $d
C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s:1051   .bss.last_head.2:00000000 last_head.2

UNDEFINED SYMBOLS
strlen
HAL_UART_Transmit
huart3
huart1
uart3_rx_head
uart3_rx_buffer
HAL_GetTick
strstr
sprintf
HAL_Delay
uart1_rx_head
uart1_rx_buffer
memset
HAL_RCC_OscConfig
HAL_RCC_ClockConfig
HAL_Init
MX_GPIO_Init
ARM GAS  C:\Users\15892\AppData\Local\Temp\cc9mGa3Y.s 			page 32


MX_USART1_UART_Init
MX_USART3_UART_Init
MX_I2C1_Init
OLED_Init
OLED_Display_On
OLED_Clear
HAL_GPIO_TogglePin
HAL_GPIO_WritePin
OLED_ShowString
